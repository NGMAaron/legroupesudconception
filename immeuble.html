<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accueil</title>
  <link rel="icon" href="img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="loader-bar" id="loader-bar"></div>


  <!-- Bouton hamburger (mobile uniquement) -->
  <div class="menu-toggle" id="menu-toggle">
    <span></span>
    <span></span>
    <span></span>
  </div>

   <!-- Barre latérale -->
  <aside class="sidebar" id="sidebar">
    <div class="close-sidebar" id="close-sidebar">X</div>
  <div class="logo">
    <img src="img/logo_LEGROUPESUD-CONCEPTION.jpg" alt="Logo Le Groupe Sud Conception">
  </div>
    <nav>
      <ul>
        <li><a href="index.html">Accueil</a></li>

        <li class="has-submenu">
          <a href="#" class="submenu-toggle">À propos</a>
          <ul class="submenu">
            <li><a href="bio.html">Biographie</a></li>
            <li><a href="equipe.html">Notre équipe</a></li>
          </ul>
        </li>

        <li class="has-submenu">
          <a href="#" class="submenu-toggle">Réalisations</a>
          <ul class="submenu">
            <li><a href="appart.html">Appartements</a></li>
            <li><a href="immeuble.html">Immeubles</a></li>
          </ul>
        </li>

        <li class="has-submenu">
          <a href="#" class="submenu-toggle">Services</a>
          <ul class="submenu">
            <li><a href="architec.html">Architecture</a></li>
            <li><a href="inte.html">Architecture d'intérieur</a></li>
            <li><a href="renov.html">Rénovation</a></li>
            <li><a href="conseil.html">Conseil</a></li>
          </ul>
        </li>

        <li><a href="videos.html">Médias</a></li>
        <li><a href="contacte.html">Contact</a></li>
      </ul>
    </nav>
  </aside>
  <main class="main-content">

    <!-- BLOC 1 : Immeubles -->
    <section class="project-section">
      <div class="overlay-text">
        <h1>Nos réalisations en immeubles</h1>
        <p>Architecture, Urbanisme, Ingénierie</p>
      </div>
  
      <div class="building-gallery">
        <div class="building-card"
             data-title="Tour Nova"
             data-description="Immeuble moderne avec bureaux ouverts"
             data-images='["img/NEW2OK.jpg", "img/NEW 3 OK.jpg", "img/NEW4 OK.jpg"]'>
          <img src="img/NEW1OK.jpg" alt="Tour Nova">
          <div class="building-info">
            <h2>Tour Nova</h2>
            <p>Vue panoramique et architecture moderne.</p>
          </div>
        </div>
      </div>
    </section>
  
  
  
    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
      <div class="lightbox-content">
        <span class="close-lightbox" id="close-lightbox">&times;</span>
  
        <div class="lightbox-left" id="lightbox-image-list"></div>
  
        <div class="lightbox-description">
          <h2 id="lightbox-title"></h2>
          <p id="lightbox-text"></p>
        </div>
      </div>
    </div>
  
  </main>
  
  
  

  <footer>
    <p>&copy; 2025 LEGROUPESUDCONCEPTION – Site créé par Khansu Group</p>
  </footer>

<!-- Conteneur pour les sous-menus flottants -->
<div id="submenu-container"></div>

<!-- Script JS -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const sidebar = document.getElementById('sidebar');
    const menuToggle = document.getElementById('menu-toggle');
    const closeSidebar = document.getElementById('close-sidebar');
    const submenuContainer = document.getElementById('submenu-container');
    const loaderBar = document.getElementById('loader-bar');
    const lightbox = document.getElementById('lightbox');
    const closeBtn = document.getElementById('close-lightbox');
    const titleEl = document.getElementById('lightbox-title');
    const textEl = document.getElementById('lightbox-text');
    const imageContainer = document.getElementById('lightbox-image-list');
  
    let submenuTimeout = null;
  
    // === Barre de chargement ===
    function simulateLoader() {
      loaderBar.style.width = '40%';
      setTimeout(() => {
        loaderBar.style.width = '75%';
      }, 300);
      setTimeout(() => {
        loaderBar.style.width = '100%';
        setTimeout(() => {
          loaderBar.style.display = 'none';
        }, 500);
      }, 800);
    }
    simulateLoader();
  
    // === Menu mobile ===
    menuToggle?.addEventListener('click', () => {
      sidebar?.classList.add('active');
    });
  
    closeSidebar?.addEventListener('click', () => {
      sidebar?.classList.remove('active');
    });
  
    // === Sous-menus flottants ===
    document.querySelectorAll('.has-submenu').forEach(item => {
      const submenu = item.querySelector('.submenu');
      if (!submenu) return;
  
      item.addEventListener('mouseenter', () => {
        clearTimeout(submenuTimeout);
        document.querySelectorAll('.submenu-float').forEach(el => el.remove());
  
        const rect = item.getBoundingClientRect();
        const clone = submenu.cloneNode(true);
        clone.classList.add('submenu-float');
        clone.style.position = 'absolute';
        clone.style.top = `${rect.top + rect.height + window.scrollY}px`;
        clone.style.left = `${rect.left}px`;
        clone.style.zIndex = '9999';
  
        clone.addEventListener('mouseenter', () => clearTimeout(submenuTimeout));
        clone.addEventListener('mouseleave', () => {
          submenuTimeout = setTimeout(() => {
            document.querySelectorAll('.submenu-float').forEach(el => el.remove());
          }, 200);
        });
  
        submenuContainer?.appendChild(clone);
      });
  
      item.addEventListener('mouseleave', () => {
        submenuTimeout = setTimeout(() => {
          document.querySelectorAll('.submenu-float').forEach(el => el.remove());
        }, 200);
      });
    });
  
    // === Lightbox - Projets ===
    document.querySelectorAll('.building-card').forEach(card => {
      card.addEventListener('click', () => {
        const title = card.dataset.title;
        const description = card.dataset.description;
        const imageList = JSON.parse(card.dataset.images || '[]');
  
        titleEl.textContent = title;
        textEl.textContent = description;
        imageContainer.innerHTML = '';
  
        imageList.forEach(src => {
          const img = document.createElement('img');
          img.src = src;
          img.alt = title;
          img.classList.add('lightbox-img');
          imageContainer.appendChild(img);
        });
  
        lightbox.classList.add('show');
      });
    });
  
    // === Fermeture de la lightbox ===
    closeBtn?.addEventListener('click', () => {
      lightbox.classList.remove('show');
    });
  
    // Fermeture en cliquant en dehors du contenu
    lightbox?.addEventListener('click', (e) => {
      if (e.target === lightbox) {
        lightbox.classList.remove('show');
      }
    });
  });
  </script>
  


</body>
</html>
